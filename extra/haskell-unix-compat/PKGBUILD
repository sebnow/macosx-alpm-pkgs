# Contributor: Sebastian Nowicki <sebnow@gmail.com
# This package is based on the Archlinux PKGBUILD, written by:
# Contributor: Don Stewart <dons@galois.com>
# Package generated by cabal2arch 0.3.1
pkgname=haskell-unix-compat
pkgrel=1
pkgver=0.1.2.1
pkgdesc="Portable POSIX-compatibility layer."
url="http://hackage.haskell.org/cgi-bin/hackage-scripts/package/unix-compat"
license=('custom:BSD4')
arch=('i386' 'x86_64')
makedepends=('ghc')
source=("http://hackage.haskell.org/packages/archive/unix-compat/$pkgver/unix-compat-$pkgver.tar.gz")
install=haskell-unix-compat.install
md5sums=('6ecfc3922fce2e96922af3a636b061f9')
build() {
  cd "$srcdir/unix-compat-$pkgver"
  runhaskell Setup configure --prefix=/usr/local || return 1
  runhaskell Setup build || return 1
  runhaskell Setup register --gen-script || return 1
  runhaskell Setup unregister --gen-script || return 1
  mkdir -p "$pkgdir/usr/local/share/haskell/$pkgname"
  install -m744 register.sh "$pkgdir/usr/local/share/haskell/$pkgname/register.sh"
  install -m744 unregister.sh "$pkgdir/usr/local/share/haskell/$pkgname/unregister.sh"
  runhaskell Setup copy --destdir="$pkgdir" || return 1
  mkdir -p "$pkgdir/usr/local/share/licenses/$pkgname"
  install -m644 LICENSE "$pkgdir/usr/local/share/licenses/$pkgname/LICENSE" || return 1
}
